% ConTeXt
\usemodule[scontents]
\starttext

\startscontents[store-env=first]
Foo
\startscontents[store-env=first]
INER
\stopscontents
kkk
\stopscontents

\startscontents[store-env=first]
Bar
\stopscontents

\startscontents[store-env=first]
Baz
\stopscontents

\startscontents
Some
\stopscontents


%%\meaningsc[1]{first}

%%\typestored[2]{first}


\getstored[1]{first}%%%\nested
\getstored[2]{first}

\stoptext



\newenvsc{scnest}[store-env=nest]

\startscnest
\def\nested{A}
\startscnest
\def\nested{B}
\stopscnest
\stopscnest

\Scontents*{\abcde}
\Scontents*|\fghij|

\meaningsc[1]{contents}

\meaningsc[2]{contents}

\typestored[2]{test}

\typestored[1]{test}

\getstored[1]{nest}\nested

\getstored[2]{nest}\nested

\getstored[1]{another}

It should not get here as the getstored above contains a 
