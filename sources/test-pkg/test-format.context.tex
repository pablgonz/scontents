
\usemodule[scontents]
\starttext

\startscontents[store-env=another]
Leaving:
\stoptext :D
\stopscontents

\startscontents[store-env=test]
\begingroup
  \catcode`\|=0
  |def|something{I am verbatim!}
|endgroup
\something
\stopscontents

\startscontents[store-env=test]
\hello :D
\stopscontents

\Scontents*{\abcde}
\Scontents*|\fghij|

\meaningsc[1]{contents}

\meaningsc[2]{contents}

\typestored[2]{test}

\typestored[1]{test}


\startscontents[print-env=false, store-env=outer]
This text is in the outermost environment (before nested).
\startscontents[print-env=false, store-env=inner]
This text is found in the most inner environment.
\stopscontents
This text is in the outermost environment (after nested).
\stopscontents

% get nested

\getstored{outer}\par
\getstored{inner}


\getstored[1]{another}

It should not get here as the getstored above contains a \stoptext
