%%
%% This is file `scontents.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% scontents.dtx  (with options: `loader,latex')
%% 
%% Copyright (C) 2019-2025 by Pablo González L <pablgonz@educarchile.cl>
%% 
%% This work may be distributed and/or modified under the conditions of the
%% LaTeX Project Public License, either version 1.3c of this license or (at
%% your option) any later version. The latest version of this license is in
%% 
%%  https://www.latex-project.org/lppl.txt
%% 
%% and version 1.3c or later is part of all distributions of LaTeX version
%% 2005/12/01 or later.
%% 
%% This work is "maintained" (as per the LPPL maintenance status)
%% by Pablo González Luengo.
%% 
%% This work consists of the files scontents.dtx and
%%                                 scontents.ins,
%% and the derived files           scontents.sty,
%%                                 scontents.tex,
%%                                 t-scontents.mkiv and
%%                                 scontents-code.tex.
%% 
\def\ScontentsFileDate{2025-05-15}%
\def\ScontentsFileVersion{2.4}%
\def\ScontentsFileDescription{Stores LaTeX contents in memory or files}%
\NeedsTeXFormat{LaTeX2e}[2024-11-01]
\ProvidesExplPackage
  {scontents} {\ScontentsFileDate} {\ScontentsFileVersion} {\ScontentsFileDescription}
\tl_new:N \g__scontents_end_verbatimsc_tl
\tl_gset_rescan:Nnn \g__scontents_end_verbatimsc_tl
  {
    \char_set_catcode_other:N \\
    \char_set_catcode_other:N \{
    \char_set_catcode_other:N \}
  }
  { \end{verbatimsc} }
\tl_new:N    \l__scontents_env_name_tl
\tl_const:Ne \c__scontents_end_env_tl
  {
    \c_backslash_str
    end
    \c_left_brace_str
      \exp_not:N \l__scontents_env_name_tl
    \c_right_brace_str
  }
\file_input:n { scontents-code.tex }
\cs_new:Npn \__scontents_format_case:nnn #1 #2 #3
  {#1} % LaTeX
\keys_define:nn { scontents }
  { verb-font .initial:n = \ttfamily }
\ProcessKeyOptions [ scontents ]
\group_begin:
  \cs_new_protected:Nn \__scontents_plain_disable_outer_par:
    { }
\group_end:
\cs_gset_eq:NN \__scontents_bsphack: \@bsphack
\cs_gset_eq:NN \__scontents_esphack: \@esphack
\cs_new_eq:NN \__scontents_analyse_nesting_format:n
  \__scontents_analyse_nesting_latex:n
\cs_new_protected:Npn \__scontents_define_env:nnn #1 #2 #3
  {
    \NewDocumentEnvironment {#1} { }
      {
          #2
      }
      {
          #3
      }
  }
\NewDocumentCommand \newenvsc { m O{} }
  {
    \cs_if_exist:cTF { #1 }
      { \msg_error:nnn { scontents } { env-already-defined } {#1} }
      { \__scontents_setting_env:nn {#1} {#2} }
  }
\newenvsc{scontents}
\use:e
  {
    \cs_new_protected:Npn \exp_not:N \__scontents_xverb:w
      #1 \g__scontents_end_verbatimsc_tl
      { #1 \exp_not:N \end{verbatimsc} }
  }
\cs_new_protected:Nn \__scontents_verbatimsc_instance:
  {
    \DeclareInstance{blockenv}{verbatimsc}{display}
      {
        env-name       = verbatimsc,
        tag-name       = verbatim,
        tag-class      = ,
        tagging-recipe = standard,
        inner-level-counter = ,
        level-increase = false,
        setup-code     = ,
        block-instance = displayblock,
        inner-instance = ,
        final-code     = \legacyverbatimsetup \tag_tool:n {paratag=codeline},
        para-flattened = true
      }
  }
\NewDocumentEnvironment { verbatimsc } { }
  {
    \IfDocumentMetadataTF
      {
        \__scontents_verbatimsc_instance:
        \UseInstance{blockenv}{verbatimsc}{}
        \@setupverbinvisiblespace\frenchspacing\@vobeyspaces
        \__scontents_xverb:
      }
      {
        \cs_set_eq:cN { @xverbatim } \__scontents_xverb:
        \verbatim
      }
  }
  {
    \IfDocumentMetadataTF
      {
        \endblockenv
      }
      { \endverbatim }
  }
\file_input_stop:
%% 
%%
%% End of file `scontents.sty'.
